{"ast":null,"code":"import _objectSpread from\"D:/wiki/Practice/react/food-order-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import CartContext from\"../../store/cart-context\";import{useContext}from\"react\";import Modal from\"../UI/Modal\";import styles from\"./Cart.module.css\";import CartItem from\"./CartItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(props){var cartContext=useContext(CartContext);var totalAmount=\"$\".concat(Math.abs(cartContext.totalAmount).toFixed(2));var hasItems=cartContext.item.length>0;var removeCardItemHandler=function removeCardItemHandler(id){cartContext.removeItem(id);};var addCardItemHandler=function addCardItemHandler(item){cartContext.addItem(_objectSpread(_objectSpread({},item),{},{amount:1}));};var cartItems=/*#__PURE__*/_jsx(\"ul\",{className:styles[\"cart-items\"],children:cartContext.item.map(function(item){return/*#__PURE__*/_jsx(CartItem,{name:item.name,price:item.price,amount:item.amount,onRemove:removeCardItemHandler.bind(null,item.id),onAdd:addCardItemHandler.bind(null,item)},item.id);})});return/*#__PURE__*/_jsxs(Modal,{onHideCart:props.onHideCart,children:[cartItems,/*#__PURE__*/_jsxs(\"div\",{className:styles.total,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0442\\u043E\\u0433\\u043E\"}),/*#__PURE__*/_jsx(\"span\",{children:totalAmount})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.actions,children:[/*#__PURE__*/_jsx(\"button\",{className:styles[\"button--alt\"],onClick:props.onHideCart,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"}),hasItems&&/*#__PURE__*/_jsx(\"button\",{className:styles.button,children:\"\\u0417\\u0430\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\"})]})]});};export default Cart;","map":{"version":3,"names":["CartContext","useContext","Modal","styles","CartItem","Cart","props","cartContext","totalAmount","Math","abs","toFixed","hasItems","item","length","removeCardItemHandler","id","removeItem","addCardItemHandler","addItem","amount","cartItems","map","name","price","bind","onHideCart","total","actions","button"],"sources":["D:/wiki/Practice/react/food-order-app/src/components/Cart/Cart.js"],"sourcesContent":["import CartContext from \"../../store/cart-context\";\r\nimport { useContext } from \"react\";\r\nimport Modal from \"../UI/Modal\";\r\nimport styles from \"./Cart.module.css\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = (props) => {\r\n  const cartContext = useContext(CartContext);\r\n  const totalAmount = `$${Math.abs(cartContext.totalAmount).toFixed(2)}`;\r\n  const hasItems = cartContext.item.length > 0;\r\n\r\n  const removeCardItemHandler = (id) => {\r\n    cartContext.removeItem(id);\r\n  }\r\n\r\n  const addCardItemHandler = (item) => {\r\n    cartContext.addItem({...item, amount: 1,})\r\n  }\r\n\r\n  const cartItems = (\r\n    <ul className = {styles[\"cart-items\"]}>\r\n      {\r\n        cartContext.item.map((item) => (\r\n          <CartItem \r\n            key = {item.id}\r\n            name = {item.name}\r\n            price = {item.price}\r\n            amount = {item.amount}\r\n            onRemove = {removeCardItemHandler.bind(null, item.id)}\r\n            onAdd = {addCardItemHandler.bind(null, item)}\r\n          />))\r\n      }\r\n    </ul>\r\n  );\r\n\r\n  return (\r\n    <Modal onHideCart = {props.onHideCart}>\r\n      {cartItems}\r\n      <div className = {styles.total}>\r\n        <span>Итого</span>\r\n        <span>{totalAmount}</span>\r\n      </div>\r\n      <div className = {styles.actions}>\r\n        <button className={styles[\"button--alt\"]} onClick = {props.onHideCart}>Закрыть</button>\r\n        {hasItems && <button className={styles.button}>Заказать</button>}\r\n\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;"],"mappings":"0HAAA,MAAOA,YAAW,KAAM,0BAA0B,CAClD,OAASC,UAAU,KAAQ,OAAO,CAClC,MAAOC,MAAK,KAAM,aAAa,CAC/B,MAAOC,OAAM,KAAM,mBAAmB,CACtC,MAAOC,SAAQ,KAAM,YAAY,CAAC,wFAElC,GAAMC,KAAI,CAAG,QAAPA,KAAI,CAAIC,KAAK,CAAK,CACtB,GAAMC,YAAW,CAAGN,UAAU,CAACD,WAAW,CAAC,CAC3C,GAAMQ,YAAW,YAAOC,IAAI,CAACC,GAAG,CAACH,WAAW,CAACC,WAAW,CAAC,CAACG,OAAO,CAAC,CAAC,CAAC,CAAE,CACtE,GAAMC,SAAQ,CAAGL,WAAW,CAACM,IAAI,CAACC,MAAM,CAAG,CAAC,CAE5C,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAqB,CAAIC,EAAE,CAAK,CACpCT,WAAW,CAACU,UAAU,CAACD,EAAE,CAAC,CAC5B,CAAC,CAED,GAAME,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIL,IAAI,CAAK,CACnCN,WAAW,CAACY,OAAO,gCAAKN,IAAI,MAAEO,MAAM,CAAE,CAAC,GAAG,CAC5C,CAAC,CAED,GAAMC,UAAS,cACb,WAAI,SAAS,CAAIlB,MAAM,CAAC,YAAY,CAAE,UAElCI,WAAW,CAACM,IAAI,CAACS,GAAG,CAAC,SAACT,IAAI,qBACxB,KAAC,QAAQ,EAEP,IAAI,CAAIA,IAAI,CAACU,IAAK,CAClB,KAAK,CAAIV,IAAI,CAACW,KAAM,CACpB,MAAM,CAAIX,IAAI,CAACO,MAAO,CACtB,QAAQ,CAAIL,qBAAqB,CAACU,IAAI,CAAC,IAAI,CAAEZ,IAAI,CAACG,EAAE,CAAE,CACtD,KAAK,CAAIE,kBAAkB,CAACO,IAAI,CAAC,IAAI,CAAEZ,IAAI,CAAE,EALtCA,IAAI,CAACG,EAAE,CAMd,EAAC,CAAC,EAGX,CAED,mBACE,MAAC,KAAK,EAAC,UAAU,CAAIV,KAAK,CAACoB,UAAW,WACnCL,SAAS,cACV,aAAK,SAAS,CAAIlB,MAAM,CAACwB,KAAM,wBAC7B,wDAAkB,cAClB,sBAAOnB,WAAW,EAAQ,GACtB,cACN,aAAK,SAAS,CAAIL,MAAM,CAACyB,OAAQ,wBAC/B,eAAQ,SAAS,CAAEzB,MAAM,CAAC,aAAa,CAAE,CAAC,OAAO,CAAIG,KAAK,CAACoB,UAAW,wDAAiB,CACtFd,QAAQ,eAAI,eAAQ,SAAS,CAAET,MAAM,CAAC0B,MAAO,8DAAkB,GAE5D,GACA,CAEZ,CAAC,CAED,cAAexB,KAAI"},"metadata":{},"sourceType":"module"}