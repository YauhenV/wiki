{"ast":null,"code":"import _slicedToArray from\"D:/wiki/Practice/react/food-order-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import CartContext from\"../../store/cart-context\";import CartIcon from\"../Cart/CartIcon\";import styles from\"./HeaderCartButton.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HeaderCartButton=function HeaderCartButton(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isButtonAnimated=_useState2[0],setIsButtonAnimated=_useState2[1];var cartContext=useContext(CartContext);var cartItemNumber=cartContext.item.reduce(function(currentValue,item){return currentValue+item.amount;},0);useEffect(function(){if(cartContext.item.length===0){return;}setIsButtonAnimated(true);var timer=setTimeout(function(){setIsButtonAnimated(false);},300);return function(){clearTimeout(timer);};},[cartContext.item]);var buttonClasses=\"\".concat(styles.button,\" \").concat(isButtonAnimated?styles.bump:\"\");return/*#__PURE__*/_jsxs(\"button\",{className:buttonClasses,onClick:props.onClick,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(CartIcon,{})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.badge,children:cartItemNumber})]});};export default HeaderCartButton;","map":{"version":3,"names":["React","useContext","useEffect","useState","CartContext","CartIcon","styles","HeaderCartButton","props","isButtonAnimated","setIsButtonAnimated","cartContext","cartItemNumber","item","reduce","currentValue","amount","length","timer","setTimeout","clearTimeout","buttonClasses","button","bump","onClick","icon","badge"],"sources":["D:/wiki/Practice/react/food-order-app/src/components/Layout/HeaderCartButton.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartIcon from \"../Cart/CartIcon\"\r\nimport styles from \"./HeaderCartButton.module.css\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n\r\n  const [isButtonAnimated, setIsButtonAnimated] = useState(false);\r\n\r\n  const cartContext = useContext(CartContext);\r\n\r\n  const cartItemNumber = cartContext.item.reduce((currentValue, item) => {\r\n    return currentValue + item.amount;\r\n  }, 0);\r\n\r\n  useEffect(() => {\r\n    if (cartContext.item.length === 0) {\r\n      return;\r\n    }\r\n    setIsButtonAnimated(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setIsButtonAnimated(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer)\r\n    }\r\n  }, [cartContext.item])\r\n\r\n  const buttonClasses = `${styles.button} ${isButtonAnimated ? styles.bump : \"\"}`;\r\n\r\n  return (\r\n    <button className={buttonClasses} onClick = {props.onClick}>\r\n      <span className={styles.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>\r\n        Корзина\r\n      </span>\r\n      <span className={styles.badge}>\r\n        {cartItemNumber}\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;"],"mappings":"2HAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAOC,YAAW,KAAM,0BAA0B,CAClD,MAAOC,SAAQ,KAAM,kBAAkB,CACvC,MAAOC,OAAM,KAAM,+BAA+B,CAAC,wFAEnD,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,KAAK,CAAK,CAElC,cAAgDL,QAAQ,CAAC,KAAK,CAAC,wCAAxDM,gBAAgB,eAAEC,mBAAmB,eAE5C,GAAMC,YAAW,CAAGV,UAAU,CAACG,WAAW,CAAC,CAE3C,GAAMQ,eAAc,CAAGD,WAAW,CAACE,IAAI,CAACC,MAAM,CAAC,SAACC,YAAY,CAAEF,IAAI,CAAK,CACrE,MAAOE,aAAY,CAAGF,IAAI,CAACG,MAAM,CACnC,CAAC,CAAE,CAAC,CAAC,CAELd,SAAS,CAAC,UAAM,CACd,GAAIS,WAAW,CAACE,IAAI,CAACI,MAAM,GAAK,CAAC,CAAE,CACjC,OACF,CACAP,mBAAmB,CAAC,IAAI,CAAC,CAEzB,GAAMQ,MAAK,CAAGC,UAAU,CAAC,UAAM,CAC7BT,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAC,CAAE,GAAG,CAAC,CAEP,MAAO,WAAM,CACXU,YAAY,CAACF,KAAK,CAAC,CACrB,CAAC,CACH,CAAC,CAAE,CAACP,WAAW,CAACE,IAAI,CAAC,CAAC,CAEtB,GAAMQ,cAAa,WAAMf,MAAM,CAACgB,MAAM,aAAIb,gBAAgB,CAAGH,MAAM,CAACiB,IAAI,CAAG,EAAE,CAAE,CAE/E,mBACE,gBAAQ,SAAS,CAAEF,aAAc,CAAC,OAAO,CAAIb,KAAK,CAACgB,OAAQ,wBACzD,aAAM,SAAS,CAAElB,MAAM,CAACmB,IAAK,uBAC3B,KAAC,QAAQ,IAAG,EACP,cACP,oEAEO,cACP,aAAM,SAAS,CAAEnB,MAAM,CAACoB,KAAM,UAC3Bd,cAAc,EACV,GACA,CAEb,CAAC,CAED,cAAeL,iBAAgB"},"metadata":{},"sourceType":"module"}